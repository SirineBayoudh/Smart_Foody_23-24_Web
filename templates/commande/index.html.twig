{% extends 'base_back.html.twig' %}

{% block title %}Liste des Commandes{% endblock %}

{% block body %}
<style>.thead-green {
  background-color:#28a740 ; /* Change this to your desired green color */
  color: white;  /* Optional: Set text color to white for better contrast */
}
</style>

<div class="container-fluid mt-4">  <div class="row">
    <div class="col-md-3 mb-4 stretch-card transparent cursor-pointer" style="height: 150px;" onclick="window.location.href='{{ path('statistiques') }}'">
      <div class="card card-tale" style="background-color: #9BCCA5;">
        <div class="card-body text-center d-flex align-items-center justify-content-center">
          <a href="{{ path('statistiques') }}">Afficher les Statistiques</a>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-4 stretch-card transparent cursor-pointer" style="height: 150px;" onclick="window.location.href='{{ path('commandes_livre') }}'">
      <div class="card card-dark-blue" style="background-color: #ADD8E6;">
        <div class="card-body text-center d-flex align-items-center justify-content-center">
          <a href="{{ path('commandes_livre') }}">Commandes Livrées</a>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-4 stretch-card transparent cursor-pointer" style="height: 150px;" onclick="window.location.href='{{ path('commandes_non_livre') }}'">
      <div class="card card-light-blue" style="background-color: #BFEAFF;">
        <div class="card-body text-center d-flex align-items-center justify-content-center">
          <a href="{{ path('commandes_non_livre') }}">Commandes Non Livrées</a>
        </div>
      </div>
    </div>
    <div class="col-md-3 mb-4 stretch-card transparent cursor-pointer" style="height: 150px;" onclick="window.location.href='{{ path('commandes_en_cours') }}'">
      <div class="card card-light-danger" style="background-color: #D3ECFF;">
        <div class="card-body text-center d-flex align-items-center justify-content-center">
          <a href="{{ path('commandes_en_cours') }}">Commandes en cours</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-12" id="commandeTable">
      <table class="table table-hover">
        <thead class="thead-success thead-green">
          <tr>
            <th>Nom Client</th>
            <th>Prénom Client</th>
            <th>Date Commande</th>
            <th>Total Commande</th>
            <th>Remise</th>
            <th>État</th>
            <th>Longitude</th>
            <th>Latitude</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for commande in commandes %}
          <tr>
            <td>{{ commande.utilisateur.nom }}</td>
            <td>{{ commande.utilisateur.prenom }}</td>
            <td>{{ commande.dateCommande|date('Y-m-d') }}</td>
            <td>{{ commande.totaleCommande }}</td>
            <td>{{ commande.remise }}</td>
            <td>{{ commande.etat }}</td>
            <td>{{ commande.longitude }}</td>
            <td>{{ commande.latitude }}</td>
            <td>
              <a href="{{ path('commande_detail', {'id': commande.id}) }}" class="btn btn-success">Afficher</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <a href="{{ path('commande_pdf_all') }}" class="btn btn-success mt-3">PDF All Commande</a>
    </div>
  </div>

  <div id="chartContainer" style="display: none;">
    <canvas id="chartClientsFideles"></canvas>
  </div>
</div>



{% endblock %}
